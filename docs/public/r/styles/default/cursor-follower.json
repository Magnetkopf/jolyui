{
  "name": "cursor-follower",
  "type": "registry:ui",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "ui/cursor-follower.tsx",
      "content": "import { cn } from \"@/lib/utils\";\nimport { AnimatePresence, motion, useMotionValue, useSpring } from \"motion/react\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// Basic Cursor Follower\ninterface CursorFollowerProps {\n  size?: number;\n  color?: string;\n  smoothness?: number;\n  className?: string;\n}\n\nexport function CursorFollower({\n  size = 20,\n  color = \"hsl(var(--primary))\",\n  smoothness = 0.15,\n  className,\n}: CursorFollowerProps) {\n  const cursorX = useMotionValue(-100);\n  const cursorY = useMotionValue(-100);\n\n  const springConfig = { damping: 25, stiffness: 700 * (1 - smoothness) };\n  const cursorXSpring = useSpring(cursorX, springConfig);\n  const cursorYSpring = useSpring(cursorY, springConfig);\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      cursorX.set(e.clientX - size / 2);\n      cursorY.set(e.clientY - size / 2);\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    return () => window.removeEventListener(\"mousemove\", moveCursor);\n  }, [cursorX, cursorY, size]);\n\n  return (\n    <motion.div\n      className={cn(\n        \"fixed top-0 left-0 pointer-events-none z-[9999] rounded-full mix-blend-difference\",\n        className\n      )}\n      style={{\n        x: cursorXSpring,\n        y: cursorYSpring,\n        width: size,\n        height: size,\n        backgroundColor: color,\n      }}\n    />\n  );\n}\n\n// Cursor with Ring\ninterface CursorRingProps {\n  dotSize?: number;\n  ringSize?: number;\n  dotColor?: string;\n  ringColor?: string;\n  ringWidth?: number;\n  className?: string;\n}\n\nexport function CursorRing({\n  dotSize = 8,\n  ringSize = 40,\n  dotColor = \"hsl(var(--primary))\",\n  ringColor = \"hsl(var(--primary))\",\n  ringWidth = 2,\n  className,\n}: CursorRingProps) {\n  const dotX = useMotionValue(-100);\n  const dotY = useMotionValue(-100);\n  const ringX = useMotionValue(-100);\n  const ringY = useMotionValue(-100);\n\n  const dotXSpring = useSpring(dotX, { damping: 30, stiffness: 500 });\n  const dotYSpring = useSpring(dotY, { damping: 30, stiffness: 500 });\n  const ringXSpring = useSpring(ringX, { damping: 20, stiffness: 200 });\n  const ringYSpring = useSpring(ringY, { damping: 20, stiffness: 200 });\n\n  const [isHovering, setIsHovering] = useState(false);\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      dotX.set(e.clientX - dotSize / 2);\n      dotY.set(e.clientY - dotSize / 2);\n      ringX.set(e.clientX - ringSize / 2);\n      ringY.set(e.clientY - ringSize / 2);\n    };\n\n    const handleMouseOver = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (target.tagName === \"A\" || target.tagName === \"BUTTON\" || target.closest(\"a\") || target.closest(\"button\")) {\n        setIsHovering(true);\n      }\n    };\n\n    const handleMouseOut = () => setIsHovering(false);\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    window.addEventListener(\"mouseover\", handleMouseOver);\n    window.addEventListener(\"mouseout\", handleMouseOut);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", moveCursor);\n      window.removeEventListener(\"mouseover\", handleMouseOver);\n      window.removeEventListener(\"mouseout\", handleMouseOut);\n    };\n  }, [dotX, dotY, ringX, ringY, dotSize, ringSize]);\n\n  return (\n    <div className={cn(\"fixed top-0 left-0 pointer-events-none z-[9999]\", className)}>\n      {/* Dot */}\n      <motion.div\n        className=\"absolute rounded-full\"\n        style={{\n          x: dotXSpring,\n          y: dotYSpring,\n          width: dotSize,\n          height: dotSize,\n          backgroundColor: dotColor,\n        }}\n        animate={{ scale: isHovering ? 0 : 1 }}\n      />\n      {/* Ring */}\n      <motion.div\n        className=\"absolute rounded-full\"\n        style={{\n          x: ringXSpring,\n          y: ringYSpring,\n          width: ringSize,\n          height: ringSize,\n          border: `${ringWidth}px solid ${ringColor}`,\n        }}\n        animate={{\n          scale: isHovering ? 1.5 : 1,\n          opacity: isHovering ? 0.5 : 1,\n        }}\n        transition={{ duration: 0.2 }}\n      />\n    </div>\n  );\n}\n\n// Cursor Trail\ninterface CursorTrailProps {\n  trailLength?: number;\n  size?: number;\n  color?: string;\n  className?: string;\n}\n\nexport function CursorTrail({\n  trailLength = 8,\n  size = 12,\n  color = \"hsl(var(--primary))\",\n  className,\n}: CursorTrailProps) {\n  const [trail, setTrail] = useState<{ x: number; y: number; id: number }[]>([]);\n  const idRef = useRef(0);\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      const newPoint = { x: e.clientX, y: e.clientY, id: idRef.current++ };\n      setTrail((prev) => [...prev.slice(-(trailLength - 1)), newPoint]);\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    return () => window.removeEventListener(\"mousemove\", moveCursor);\n  }, [trailLength]);\n\n  return (\n    <div className={cn(\"fixed top-0 left-0 pointer-events-none z-[9999]\", className)}>\n      {trail.map((point, index) => {\n        const scale = (index + 1) / trail.length;\n        const opacity = scale * 0.8;\n        return (\n          <motion.div\n            key={point.id}\n            className=\"absolute rounded-full\"\n            initial={{ opacity: 0, scale: 0 }}\n            animate={{\n              opacity,\n              scale,\n              x: point.x - (size * scale) / 2,\n              y: point.y - (size * scale) / 2,\n            }}\n            exit={{ opacity: 0, scale: 0 }}\n            transition={{ duration: 0.1 }}\n            style={{\n              width: size * scale,\n              height: size * scale,\n              backgroundColor: color,\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\n// Cursor Spotlight\ninterface CursorSpotlightProps {\n  size?: number;\n  opacity?: number;\n  blur?: number;\n  color?: string;\n  className?: string;\n}\n\nexport function CursorSpotlight({\n  size = 300,\n  opacity = 0.15,\n  blur = 80,\n  color = \"hsl(var(--primary))\",\n  className,\n}: CursorSpotlightProps) {\n  const x = useMotionValue(-100);\n  const y = useMotionValue(-100);\n\n  const xSpring = useSpring(x, { damping: 30, stiffness: 200 });\n  const ySpring = useSpring(y, { damping: 30, stiffness: 200 });\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      x.set(e.clientX - size / 2);\n      y.set(e.clientY - size / 2);\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    return () => window.removeEventListener(\"mousemove\", moveCursor);\n  }, [x, y, size]);\n\n  return (\n    <motion.div\n      className={cn(\"fixed top-0 left-0 pointer-events-none z-[9998] rounded-full\", className)}\n      style={{\n        x: xSpring,\n        y: ySpring,\n        width: size,\n        height: size,\n        background: `radial-gradient(circle, ${color} 0%, transparent 70%)`,\n        opacity,\n        filter: `blur(${blur}px)`,\n      }}\n    />\n  );\n}\n\n// Cursor Text\ninterface CursorTextProps {\n  text?: string;\n  size?: number;\n  className?: string;\n}\n\nexport function CursorText({\n  text = \"View\",\n  size = 80,\n  className,\n}: CursorTextProps) {\n  const x = useMotionValue(-100);\n  const y = useMotionValue(-100);\n\n  const xSpring = useSpring(x, { damping: 25, stiffness: 300 });\n  const ySpring = useSpring(y, { damping: 25, stiffness: 300 });\n\n  const [isVisible, setIsVisible] = useState(false);\n  const [currentText, setCurrentText] = useState(text);\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      x.set(e.clientX - size / 2);\n      y.set(e.clientY - size / 2);\n    };\n\n    const handleMouseOver = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      const cursorTextElement = target.closest(\"[data-cursor-text]\") as HTMLElement;\n      if (cursorTextElement) {\n        setCurrentText(cursorTextElement.dataset.cursorText || text);\n        setIsVisible(true);\n      }\n    };\n\n    const handleMouseOut = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (target.closest(\"[data-cursor-text]\")) {\n        setIsVisible(false);\n      }\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    window.addEventListener(\"mouseover\", handleMouseOver);\n    window.addEventListener(\"mouseout\", handleMouseOut);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", moveCursor);\n      window.removeEventListener(\"mouseover\", handleMouseOver);\n      window.removeEventListener(\"mouseout\", handleMouseOut);\n    };\n  }, [x, y, size, text]);\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          className={cn(\n            \"fixed top-0 left-0 pointer-events-none z-[9999] rounded-full flex items-center justify-center bg-primary text-primary-foreground text-sm font-medium\",\n            className\n          )}\n          style={{\n            x: xSpring,\n            y: ySpring,\n            width: size,\n            height: size,\n          }}\n          initial={{ scale: 0, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0, opacity: 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          {currentText}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\n// Cursor Morph\ninterface CursorMorphProps {\n  defaultSize?: number;\n  hoverSize?: number;\n  color?: string;\n  className?: string;\n}\n\nexport function CursorMorph({\n  defaultSize = 16,\n  hoverSize = 60,\n  color = \"hsl(var(--primary))\",\n  className,\n}: CursorMorphProps) {\n  const x = useMotionValue(-100);\n  const y = useMotionValue(-100);\n\n  const xSpring = useSpring(x, { damping: 25, stiffness: 400 });\n  const ySpring = useSpring(y, { damping: 25, stiffness: 400 });\n\n  const [size, setSize] = useState(defaultSize);\n  const [borderRadius, setBorderRadius] = useState(\"50%\");\n\n  useEffect(() => {\n    const moveCursor = (e: MouseEvent) => {\n      x.set(e.clientX - size / 2);\n      y.set(e.clientY - size / 2);\n    };\n\n    const handleMouseOver = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      const morphElement = target.closest(\"[data-cursor-morph]\") as HTMLElement;\n      if (morphElement) {\n        const rect = morphElement.getBoundingClientRect();\n        setSize(Math.max(rect.width, rect.height) + 20);\n        setBorderRadius(getComputedStyle(morphElement).borderRadius || \"8px\");\n      }\n    };\n\n    const handleMouseOut = () => {\n      setSize(defaultSize);\n      setBorderRadius(\"50%\");\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    window.addEventListener(\"mouseover\", handleMouseOver);\n    window.addEventListener(\"mouseout\", handleMouseOut);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", moveCursor);\n      window.removeEventListener(\"mouseover\", handleMouseOver);\n      window.removeEventListener(\"mouseout\", handleMouseOut);\n    };\n  }, [x, y, size, defaultSize]);\n\n  return (\n    <motion.div\n      className={cn(\n        \"fixed top-0 left-0 pointer-events-none z-[9999] mix-blend-difference\",\n        className\n      )}\n      style={{\n        x: xSpring,\n        y: ySpring,\n        backgroundColor: color,\n      }}\n      animate={{\n        width: size,\n        height: size,\n        borderRadius,\n      }}\n      transition={{ type: \"spring\", damping: 20, stiffness: 300 }}\n    />\n  );\n}\n\n// Cursor Emoji\ninterface CursorEmojiProps {\n  emoji?: string;\n  size?: number;\n  className?: string;\n}\n\nexport function CursorEmoji({\n  emoji = \"ðŸ‘†\",\n  size = 32,\n  className,\n}: CursorEmojiProps) {\n  const x = useMotionValue(-100);\n  const y = useMotionValue(-100);\n\n  const xSpring = useSpring(x, { damping: 20, stiffness: 400 });\n  const ySpring = useSpring(y, { damping: 20, stiffness: 400 });\n\n  const [rotation, setRotation] = useState(0);\n\n  useEffect(() => {\n    let lastX = 0;\n    let lastY = 0;\n\n    const moveCursor = (e: MouseEvent) => {\n      const dx = e.clientX - lastX;\n      const dy = e.clientY - lastY;\n      const angle = Math.atan2(dy, dx) * (180 / Math.PI);\n      \n      x.set(e.clientX);\n      y.set(e.clientY);\n      setRotation(angle + 90);\n\n      lastX = e.clientX;\n      lastY = e.clientY;\n    };\n\n    window.addEventListener(\"mousemove\", moveCursor);\n    return () => window.removeEventListener(\"mousemove\", moveCursor);\n  }, [x, y]);\n\n  return (\n    <motion.div\n      className={cn(\n        \"fixed top-0 left-0 pointer-events-none z-[9999] flex items-center justify-center\",\n        className\n      )}\n      style={{\n        x: xSpring,\n        y: ySpring,\n        fontSize: size,\n        rotate: rotation,\n      }}\n    >\n      {emoji}\n    </motion.div>\n  );\n}\n\n// Cursor Magnetic Area\ninterface CursorMagneticProps {\n  children: React.ReactNode;\n  strength?: number;\n  className?: string;\n}\n\nexport function CursorMagnetic({\n  children,\n  strength = 0.3,\n  className,\n}: CursorMagneticProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n\n  const xSpring = useSpring(x, { damping: 20, stiffness: 300 });\n  const ySpring = useSpring(y, { damping: 20, stiffness: 300 });\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (!ref.current) return;\n    const rect = ref.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    const distX = (e.clientX - centerX) * strength;\n    const distY = (e.clientY - centerY) * strength;\n    x.set(distX);\n    y.set(distY);\n  };\n\n  const handleMouseLeave = () => {\n    x.set(0);\n    y.set(0);\n  };\n\n  return (\n    <motion.div\n      ref={ref}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      style={{ x: xSpring, y: ySpring }}\n      className={cn(\"inline-block\", className)}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\nexport type {\n    CursorEmojiProps, CursorFollowerProps, CursorMagneticProps, CursorMorphProps, CursorRingProps, CursorSpotlightProps,\n    CursorTextProps, CursorTrailProps\n};\n\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}